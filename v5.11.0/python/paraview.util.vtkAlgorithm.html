<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>util.vtkAlgorithm Module &mdash; ParaView/Python 5.11.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="web Package" href="paraview.web.html" />
    <link rel="prev" title="util Package" href="paraview.util.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          <ul>
            <li> <a href="index.html">
              <img src="_static/paraview-logo-small.png"
              alt="ParaView/Python"></img></a> </li>
            <li class="version"> version 5.11.0</li>
          </ul>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">Quick-Start :  A Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="paraview.html">The ParaView Python Package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="paraview.html#id1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">paraview</span></code> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="paraview.html#modules">Modules</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="paraview.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="paraview.algorithms.html">algorithms Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.apps.html">apps Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.benchmark.html">benchmark Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.catalyst.html">catalyst Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.demos.html">demos Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.detail.html">detail Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.tests.html">tests Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="paraview.tpl.html">tpl Package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="paraview.util.html">util Package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="paraview.util.html#id1"><code class="xref py py-mod docutils literal notranslate"><span class="pre">util</span></code> Package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="paraview.util.html#modules">Modules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="paraview.web.html">web Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="paraview.simple.html">simple</a></li>
<li class="toctree-l1"><a class="reference internal" href="paraview.servermanager.html">servermanager</a></li>
<li class="toctree-l1"><a class="reference internal" href="paraview.coprocessing.html">coprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="paraview.benchmark.html">benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="paraview.servermanager_proxies.html">Available readers, sources, writers, filters and animation cues</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api-changes.html">API Changes between ParaView versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ParaView/Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <a href="genindex.html" class="float-right">Index</a> 
          <li><a href="paraview.html">paraview Package</a> &raquo;</li>
          <li><a href="paraview.util.html">util Package</a> &raquo;</li>
      <li>util.vtkAlgorithm Module</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-paraview.util.vtkAlgorithm">
<span id="util-vtkalgorithm-module"></span><h1>util.vtkAlgorithm Module<a class="headerlink" href="#module-paraview.util.vtkAlgorithm" title="Permalink to this headline">¶</a></h1>
<p>This module provides utility functions that can be used to expose a
<cite>VTKPythonAlgorithmBase</cite> derived Pythonic vtkAlgorithm subclass in ParaView.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>VTK provides a convenient Python-friendly mechanism to add new algorithms, such as data sources,
filters, readers, and writers via <cite>vtkPythonAlgorithm</cite>. In this approach, developers can
write subclasses of <cite>VTKPythonAlgorithmBase</cite> and then implement the
<cite>vtkAlgorithm</cite> API in Python.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vtkmodules.util.vtkAlgorithm</span> <span class="kn">import</span> <span class="n">VTKPythonAlgorithmBase</span>
<span class="k">class</span> <span class="nc">ContourShrink</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">VTKPythonAlgorithmBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfo</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">):</span>
      <span class="n">inp</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataSet</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">inInfo</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">opt</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">outInfo</span><span class="p">)</span>

      <span class="n">cf</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkContourFilter</span><span class="p">()</span>
      <span class="n">cf</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
      <span class="n">cf</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

      <span class="n">sf</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkShrinkPolyData</span><span class="p">()</span>
      <span class="n">sf</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
      <span class="n">sf</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>

      <span class="n">opt</span><span class="o">.</span><span class="n">ShallowCopy</span><span class="p">(</span><span class="n">sf</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
      <span class="k">return</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Such <cite>VTKPythonAlgorithmBase</cite>-based algorithms act as any other <cite>vtkAlgorithm</cite>
and can be used directly in VTK pipelines. To use them in ParaView, however, one
has to make ParaView aware of the capabilities of the algorithm. For
<cite>vtkAlgorithm</cite> subclasses in C++, this is done by writing an XML description of
the algorithm. For Python-based algorithms, this module provides us a mechanism
to build the ParaView-specific XML via decorators.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vtkmodules.util.vtkAlgorithm</span> <span class="kn">import</span> <span class="n">VTKPythonAlgorithmBase</span>
<span class="kn">from</span> <span class="nn">paraview.util.vtkAlgorithm</span> <span class="kn">import</span> <span class="n">smproxy</span><span class="p">,</span> <span class="n">smproperty</span><span class="p">,</span> <span class="n">smdomain</span>

<span class="nd">@smproxy</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Contour Shrink&quot;</span><span class="p">)</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Input&quot;</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkDataSet&quot;</span><span class="p">],</span> <span class="n">composite_data_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ContourShrink</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">VTKPythonAlgorithmBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfo</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">):</span>
      <span class="o">...</span>
      <span class="k">return</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ParaView’s XML description provides a wide gamut of features.
The decorators available currently only expose a small subset of them. The
plan is to have complete feature parity in the future. If you encounter a
missing capability, please raise an issue or better yet, a merge-request to address
the same.</p>
</div>
</div>
<div class="section" id="decorator-basics">
<h2>Decorator Basics<a class="headerlink" href="#decorator-basics" title="Permalink to this headline">¶</a></h2>
<p>There are four main classes currently available: <cite>smproxy</cite>,
<cite>smproperty</cite>, <cite>smdomain</cite>, and <cite>smhint</cite>. Each provides a set of decorators to
declare a proxy, property, domain or a hint, respectively.</p>
<p>All available decorators exhibit the following characteristics:</p>
<ol class="arabic simple">
<li><p>With the exception of decorators defined in <cite>smproxy</cite>, all decorators are
intended for decorating classes or their methods. <cite>smproxy</cite> decorators are
only intended for classes.</p></li>
<li><p>Decorators take keyword arguments (positional arguments are discouraged).
While there may be exceptions, the general pattern is that a decorator
corresponds to an XML node in the ParaView XML configuration. Any attributes
on the XML node itself can be specified as keyword arguments to the
decorator. The decorator may explicitly define parameters that affect the
generated node or to explicit limit the arguments provided.</p></li>
<li><p>Decorators can be chained. The order of chaining is significant and follows
the direction of nesting in the XML e.g. to add a domain to a property, one
would nest decorators as follows:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> @smproperty.intvector(name=&quot;Radius&quot;, default_values=[0])
 @smdomain.intrange(min=0, max=10)
 @smhint.xml(&quot;&lt;SomeHint/&gt;&quot;)
 def SetRadius(self, radius):
     ...


Note, since domains can&#39;t have nested hints, the hint specified after the
`smdomain.intrange` invocation is intended for the `smproperty` and not the
`smdomain`.

When chaining `smproperty` decorators under a `smproxy`, the order in which
the properties are shown in ParaView UI is reverse of the order in the
Python code e.g. the in following snippets the UI will show &quot;PolyDataInput&quot;
above &quot;TableInput&quot;.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@smproxy</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;TableInput&quot;</span><span class="p">,</span> <span class="n">port_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkTable&quot;</span><span class="p">])</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;PolyDataInput&quot;</span><span class="p">,</span> <span class="n">port_index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkPolyData&quot;</span><span class="p">])</span>
<span class="k">class</span> <span class="nc">MyFilter</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
   <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="smproxy-decorators">
<h2><cite>smproxy</cite> Decorators<a class="headerlink" href="#smproxy-decorators" title="Permalink to this headline">¶</a></h2>
<p>To make <cite>VTKPythonAlgorithmBase</cite> subclass available in ParaView as a data-source,
filter, reader, or writer, one must use of the decorators in the <cite>smproxy</cite>
class.</p>
<div class="section" id="common-decorator-parameters">
<h3>Common decorator parameters<a class="headerlink" href="#common-decorator-parameters" title="Permalink to this headline">¶</a></h3>
<p>The following keyword parameters are supported by all <cite>smproxy</cite> decorators:</p>
<ol class="arabic simple">
<li><p><cite>name</cite>: if present, provides the name to use of the Proxy. This is the name
that ParaView uses to refer to your class. If none specified, the name is
deduced from the class name.</p></li>
<li><p><cite>label</cite>: if present, provides the label to use in the UI. If missing, the
label is deduced from the <cite>name</cite>.</p></li>
<li><p><cite>class</cite>: if present, is the fully qualified class name ParaView should use to
instantiate this object. Except for exceptional situation, it’s best to let
ParaView deduce this argument.</p></li>
<li><p><cite>group</cite>: if present, is the proxy-group under which the definition must be
placed. This is often not needed since the decorators set a good default
based on the role of the proxy.</p></li>
</ol>
<p>As mentioned before, any keyword arguments passed any decorator that is not
processed by the decorator simply gets added to the generated XML node as
attribute.</p>
</div>
<div class="section" id="smproxy-source">
<h3><cite>smproxy.source</cite><a class="headerlink" href="#smproxy-source" title="Permalink to this headline">¶</a></h3>
<p>This decorator can be used to declare data sources. Data sources don’t have any
inputs, but provide 1 or more outputs. While technically a reader is a source,
<cite>smproxy.reader</cite> is preferred way of adding readers.</p>
</div>
<div class="section" id="smproxy-filter">
<h3><cite>smproxy.filter</cite><a class="headerlink" href="#smproxy-filter" title="Permalink to this headline">¶</a></h3>
<p>This decorator can be used to declare filters that have one or more inputs and
one or more outputs. The inputs themselves must be declared using
<cite>smproperty.input</cite> decorators.</p>
</div>
<div class="section" id="smproxy-reader">
<h3><cite>smproxy.reader</cite><a class="headerlink" href="#smproxy-reader" title="Permalink to this headline">¶</a></h3>
<p>This decorator is used to declare reader. This is same as <cite>smproxy.source</cite>,
except it adds the appropriate hints to make ParaView aware that this is a
reader.</p>
<p>It takes the following keyword parameters, in addition to the standard ones:</p>
<ol class="arabic simple">
<li><p><cite>file_description</cite>: (required) a user friendly text to use in the <strong>File
Open</strong> dialog.</p></li>
<li><p><cite>extensions</cite>:  a string or list of strings which define the supported
extensions (without the leading <cite>.</cite>).</p></li>
<li><p><cite>filename_patterns</cite>: wild card patten.</p></li>
</ol>
<p>Either <cite>extensions</cite> or <cite>filename_patterns</cite> must be provided.</p>
</div>
<div class="section" id="smproxy-writer">
<h3><cite>smproxy.writer</cite><a class="headerlink" href="#smproxy-writer" title="Permalink to this headline">¶</a></h3>
<p>This decorator is used to declare a writer. Similar to <cite>smproxy.reader</cite>, one
provides <cite>file_description</cite> and <cite>extensions</cite> keyword parameters to indicate
which file extensions the writer supports.</p>
</div>
</div>
<div class="section" id="smproperty-decorators">
<h2><cite>smproperty</cite> Decorators<a class="headerlink" href="#smproperty-decorators" title="Permalink to this headline">¶</a></h2>
<p>Decorators in <cite>smproperty</cite> are used to add properties to the proxies declared
using <cite>smproxy</cite> decorators. These can be added either to class methods or to
class objects. Multiple <cite>smproperty</cite> decorators may be chained when adding to
class objects.</p>
<div class="section" id="id1">
<h3>Common decorator parameters<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The following keyword parameters are supported by all <cite>smproperty</cite> decorators:</p>
<ol class="arabic simple">
<li><p><cite>name</cite>: if present, provides the name to use of the Property. If missing, the
name will be deduced from the object being decorated which will rarely be
correct when decorating class objects. Hence, this parameter is optional
when decorating class methods, but required when decorating class objects.</p></li>
<li><p><cite>label</cite>: if present, provides the label to use in the UI. If missing, the
label is deduced from the <cite>name</cite>.</p></li>
<li><p><cite>command</cite>: if present, is the method name. If missing, ParaView can deduce it
based on the method being decorated. Hence, as before, optional when
decorating class methods, but generally required when decorating class
objects (with the exception of <cite>smproperty.input</cite>).</p></li>
</ol>
</div>
<div class="section" id="smproperty-xml">
<h3><cite>smproperty.xml</cite><a class="headerlink" href="#smproperty-xml" title="Permalink to this headline">¶</a></h3>
<p>This is a catch-all decorator. One can use this to add arbitrary XML to the
proxy definition.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@smproperty</span><span class="o">.</span><span class="n">xml</span><span class="p">(</span><span class="n">xmlstr</span><span class="o">=</span><span class="s2">&quot;&lt;IntVectorProperty name=..&gt; ....  &lt;/IntVectorProperty&gt;&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">MyMethod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="smproperty-intvector-smproperty-doublevector-smproperty-idtypevector-smproperty-stringvector">
<h3><cite>smproperty.intvector</cite>, <cite>smproperty.doublevector</cite>, <cite>smproperty.idtypevector</cite>, <cite>smproperty.stringvector</cite><a class="headerlink" href="#smproperty-intvector-smproperty-doublevector-smproperty-idtypevector-smproperty-stringvector" title="Permalink to this headline">¶</a></h3>
<p>These are used to declare various types of vector properties. The arguments are
simply the XML attributes.</p>
</div>
<div class="section" id="smproperty-proxy">
<h3><cite>smproperty.proxy</cite><a class="headerlink" href="#smproperty-proxy" title="Permalink to this headline">¶</a></h3>
<p>This decorator can be used for adding a <cite>ProxyProperty</cite>, i.e. a method that
takes another VTK object as argument.</p>
</div>
<div class="section" id="smproperty-input">
<h3><cite>smproperty.input</cite><a class="headerlink" href="#smproperty-input" title="Permalink to this headline">¶</a></h3>
<p>This decorator can be used to add inputs to a <cite>vtkAlgorithm</cite>. Since
<cite>vtkAlgorithm</cite> provides the appropriate API to set an input, often one doesn’t
have custom methods in Python in the <cite>VTKPythonAlgorithmBase</cite> subclass. Hence,
this decorator is often simply added to the class definition rather than a
particular method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@smproxy</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;TableInput&quot;</span><span class="p">,</span> <span class="n">port_index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">multiple_input</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkTable&quot;</span><span class="p">],</span> <span class="n">composite_data_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MyFilter</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
   <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="smproperty-dataarrayselection">
<h3><cite>smproperty.dataarrayselection</cite><a class="headerlink" href="#smproperty-dataarrayselection" title="Permalink to this headline">¶</a></h3>
<p>This a convenience decorator that can be used to decorate a method that returns
a <cite>vtkDataArraySelection</cite> object often used to array selection in data sources
and readers. The decorator adds appropriate ParaView ServerManager XML
components to expose the array selection to the user.</p>
</div>
</div>
<div class="section" id="smdomain-decorators">
<h2><cite>smdomain</cite> Decorators<a class="headerlink" href="#smdomain-decorators" title="Permalink to this headline">¶</a></h2>
<p>These decorators are used to add domains to <cite>smproperty</cite>. Domains often guide
the UI that ParaView generated for the specific property. The current set of
available domains, includes <cite>smdomain.intrange</cite>, <cite>smdomain.doublerange</cite>,
<cite>smdomain.filelist</cite>, and <cite>smdomain.datatype</cite>. More will be added as needed.
Additionally, one can use the <cite>smdomain.xml</cite> catch-all decorator to add XML
definition for the domain.</p>
</div>
<div class="section" id="smhint-decorators">
<h2><cite>smhint</cite> Decorators<a class="headerlink" href="#smhint-decorators" title="Permalink to this headline">¶</a></h2>
<p>These add elements under <cite>&lt;Hints/&gt;</cite> for <cite>smproxy</cite> and/or <cite>smproperty</cite> elements.
Currently <cite>smhint.filechooser</cite> and the generic <cite>smhint.xml</cite> are provided with
more to be added as needed.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p><strong>PythonAlgorithmExamples.py</strong> provides a working example that demonstrates how
several of the decorators described here may be used.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">../../../../Examples/Plugins/PythonAlgorithm/PythonAlgorithmExamples.py</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;This module demonstrates various ways of adding</span>
<span class="sd">VTKPythonAlgorithmBase subclasses as filters, sources, readers,</span>
<span class="sd">and writers in ParaView&quot;&quot;&quot;</span>


<span class="c1"># This is module to import. It provides VTKPythonAlgorithmBase, the base class</span>
<span class="c1"># for all python-based vtkAlgorithm subclasses in VTK and decorators used to</span>
<span class="c1"># &#39;register&#39; the algorithm with ParaView along with information about UI.</span>
<span class="kn">from</span> <span class="nn">paraview.util.vtkAlgorithm</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># A source example.</span>
<span class="c1">#------------------------------------------------------------------------------</span>
<span class="nd">@smproxy</span><span class="o">.</span><span class="n">source</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;PythonSuperquadricSource&quot;</span><span class="p">,</span>
       <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Python-based Superquadric Source Example&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">PythonSuperquadricSource</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This is dummy VTKPythonAlgorithmBase subclass that</span>
<span class="sd">    simply puts out a Superquadric poly data using a vtkSuperquadricSource</span>
<span class="sd">    internally&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">VTKPythonAlgorithmBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">nInputPorts</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">nOutputPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">outputType</span><span class="o">=</span><span class="s1">&#39;vtkPolyData&#39;</span><span class="p">)</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.vtkFiltersSources</span> <span class="kn">import</span> <span class="n">vtkSuperquadricSource</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span> <span class="o">=</span> <span class="n">vtkSuperquadricSource</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfo</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.vtkCommonDataModel</span> <span class="kn">import</span> <span class="n">vtkPolyData</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">vtkPolyData</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">outInfo</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">output</span><span class="o">.</span><span class="n">ShallowCopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="c1"># for anything too complex or not yet supported, you can explicitly</span>
    <span class="c1"># provide the XML for the method.</span>
    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">xml</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;DoubleVectorProperty name=&quot;Center&quot;</span>
<span class="s2">            number_of_elements=&quot;3&quot;</span>
<span class="s2">            default_values=&quot;0 0 0&quot;</span>
<span class="s2">            command=&quot;SetCenter&quot;&gt;</span>
<span class="s2">            &lt;DoubleRangeDomain name=&quot;range&quot; /&gt;</span>
<span class="s2">            &lt;Documentation&gt;Set center of the superquadric&lt;/Documentation&gt;</span>
<span class="s2">        &lt;/DoubleVectorProperty&gt;&quot;&quot;&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetCenter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">SetCenter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="c1"># In most cases, one can simply use available decorators.</span>
    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">doublevector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Scale&quot;</span><span class="p">,</span> <span class="n">default_values</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">doublerange</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">SetScale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">SetScale</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">intvector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ThetaResolution&quot;</span><span class="p">,</span> <span class="n">default_values</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetThetaResolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">SetThetaResolution</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">intvector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;PhiResolution&quot;</span><span class="p">,</span> <span class="n">default_values</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">intrange</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetPhiResolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">SetPhiResolution</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">doublevector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Thickness&quot;</span><span class="p">,</span> <span class="n">default_values</span><span class="o">=</span><span class="mf">0.3333</span><span class="p">)</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">doublerange</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mf">1e-24</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetThickness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_realAlgorithm</span><span class="o">.</span><span class="n">SetThickness</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="c1"># &quot;ValueRangeInfo&quot; and &quot;Value&quot; demonstrate how one can have a slider in the</span>
    <span class="c1"># UI for a property with its range fetched at runtime. For int values,</span>
    <span class="c1"># use `intvector` and `IntRangeDomain` instead of the double variants used</span>
    <span class="c1"># below.</span>
    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">doublevector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ValueRangeInfo&quot;</span><span class="p">,</span> <span class="n">information_only</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">GetValueRange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;getting range: (0, 100)&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">doublevector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">default_values</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">])</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">xml</span><span class="p">(</span>\
        <span class="sd">&quot;&quot;&quot;&lt;DoubleRangeDomain name=&quot;range&quot; default_mode=&quot;mid&quot;&gt;</span>
<span class="sd">                &lt;RequiredProperties&gt;</span>
<span class="sd">                    &lt;Property name=&quot;ValueRangeInfo&quot; function=&quot;RangeInfo&quot; /&gt;</span>
<span class="sd">                &lt;/RequiredProperties&gt;</span>
<span class="sd">           &lt;/DoubleRangeDomain&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;settings value:&quot;</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

    <span class="c1"># &quot;StringInfo&quot; and &quot;String&quot; demonstrate how one can add a selection widget</span>
    <span class="c1"># that lets user choose a string from the list of strings.</span>
    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">stringvector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;StringInfo&quot;</span><span class="p">,</span> <span class="n">information_only</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">GetStrings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">]</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">stringvector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;String&quot;</span><span class="p">,</span> <span class="n">number_of_elements</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">xml</span><span class="p">(</span>\
        <span class="sd">&quot;&quot;&quot;&lt;StringListDomain name=&quot;list&quot;&gt;</span>
<span class="sd">                &lt;RequiredProperties&gt;</span>
<span class="sd">                    &lt;Property name=&quot;StringInfo&quot; function=&quot;StringInfo&quot;/&gt;</span>
<span class="sd">                &lt;/RequiredProperties&gt;</span>
<span class="sd">            &lt;/StringListDomain&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Setting &quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>




<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># A reader example.</span>
<span class="c1">#------------------------------------------------------------------------------</span>
<span class="k">def</span> <span class="nf">createModifiedCallback</span><span class="p">(</span><span class="n">anobject</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">weakref</span>
    <span class="n">weakref_obj</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">anobject</span><span class="p">)</span>
    <span class="n">anobject</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">def</span> <span class="nf">_markmodified</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwars</span><span class="p">):</span>
        <span class="n">o</span> <span class="o">=</span> <span class="n">weakref_obj</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">o</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">o</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">_markmodified</span>

<span class="c1"># To add a reader, we can use the following decorators</span>
<span class="c1">#   @smproxy.source(name=&quot;PythonCSVReader&quot;, label=&quot;Python-based CSV Reader&quot;)</span>
<span class="c1">#   @smhint.xml(&quot;&quot;&quot;&lt;ReaderFactory extensions=&quot;csv&quot; file_description=&quot;Numpy CSV files&quot; /&gt;&quot;&quot;&quot;)</span>
<span class="c1"># or directly use the &quot;@reader&quot; decorator.</span>
<span class="nd">@smproxy</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;PythonCSVReader&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Python-based CSV Reader&quot;</span><span class="p">,</span>
                <span class="n">extensions</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="n">file_description</span><span class="o">=</span><span class="s2">&quot;CSV files&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">PythonCSVReader</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A reader that reads a CSV file. If the CSV has a &quot;time&quot; column, then</span>
<span class="sd">    the data is treated as a temporal dataset&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">VTKPythonAlgorithmBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nInputPorts</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nOutputPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">outputType</span><span class="o">=</span><span class="s1">&#39;vtkTable&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timesteps</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="kn">from</span> <span class="nn">vtkmodules.vtkCommonCore</span> <span class="kn">import</span> <span class="n">vtkDataArraySelection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrayselection</span> <span class="o">=</span> <span class="n">vtkDataArraySelection</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrayselection</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s2">&quot;ModifiedEvent&quot;</span><span class="p">,</span> <span class="n">createModifiedCallback</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_get_raw_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requested_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">requested_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span><span class="o">==</span><span class="n">requested_time</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Note, exceptions are totally fine!</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No filename specified&quot;</span><span class="p">)</span>

        <span class="kn">import</span> <span class="nn">numpy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_filename</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">autostrip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timesteps</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s2">&quot;time&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timesteps</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]))</span>

        <span class="k">for</span> <span class="n">aname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
            <span class="c1"># note, this doesn&#39;t change MTime on the array selection, which is</span>
            <span class="c1"># good!</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_arrayselection</span><span class="o">.</span><span class="n">AddArray</span><span class="p">(</span><span class="n">aname</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_raw_data</span><span class="p">(</span><span class="n">requested_time</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_timesteps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_raw_data</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timesteps</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timesteps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_get_update_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">):</span>
        <span class="n">executive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetExecutive</span><span class="p">()</span>
        <span class="n">timesteps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_timesteps</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">timesteps</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">timesteps</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">outInfo</span><span class="o">.</span><span class="n">Has</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">UPDATE_TIME_STEP</span><span class="p">())</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">timesteps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">utime</span> <span class="o">=</span> <span class="n">outInfo</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">UPDATE_TIME_STEP</span><span class="p">())</span>
            <span class="n">dtime</span> <span class="o">=</span> <span class="n">timesteps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">atime</span> <span class="ow">in</span> <span class="n">timesteps</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">atime</span> <span class="o">&gt;</span> <span class="n">utime</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">dtime</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dtime</span> <span class="o">=</span> <span class="n">atime</span>
            <span class="k">return</span> <span class="n">dtime</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">timesteps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">timesteps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_array_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrayselection</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">stringvector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;FileName&quot;</span><span class="p">)</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">filelist</span><span class="p">()</span>
    <span class="nd">@smhint</span><span class="o">.</span><span class="n">filechooser</span><span class="p">(</span><span class="n">extensions</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="n">file_description</span><span class="o">=</span><span class="s2">&quot;Numpy CSV files&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">SetFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Specify filename for the file to read.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">!=</span> <span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">=</span> <span class="n">name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ndata</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timesteps</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">doublevector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;TimestepValues&quot;</span><span class="p">,</span> <span class="n">information_only</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="n">si_class</span><span class="o">=</span><span class="s2">&quot;vtkSITimeStepsProperty&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">GetTimestepValues</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_timesteps</span><span class="p">()</span>

    <span class="c1"># Array selection API is typical with readers in VTK</span>
    <span class="c1"># This is intended to allow ability for users to choose which arrays to</span>
    <span class="c1"># load. To expose that in ParaView, simply use the</span>
    <span class="c1"># smproperty.dataarrayselection().</span>
    <span class="c1"># This method **must** return a `vtkDataArraySelection` instance.</span>
    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">dataarrayselection</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Arrays&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">GetDataArraySelection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_array_selection</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">RequestInformation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfoVec</span><span class="p">,</span> <span class="n">outInfoVec</span><span class="p">):</span>
        <span class="n">executive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetExecutive</span><span class="p">()</span>
        <span class="n">outInfo</span> <span class="o">=</span> <span class="n">outInfoVec</span><span class="o">.</span><span class="n">GetInformationObject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">outInfo</span><span class="o">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">TIME_STEPS</span><span class="p">())</span>
        <span class="n">outInfo</span><span class="o">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">TIME_RANGE</span><span class="p">())</span>

        <span class="n">timesteps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_timesteps</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">timesteps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">timesteps</span><span class="p">:</span>
                <span class="n">outInfo</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">TIME_STEPS</span><span class="p">(),</span> <span class="n">t</span><span class="p">)</span>
            <span class="n">outInfo</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">TIME_RANGE</span><span class="p">(),</span> <span class="n">timesteps</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">outInfo</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">executive</span><span class="o">.</span><span class="n">TIME_RANGE</span><span class="p">(),</span> <span class="n">timesteps</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfoVec</span><span class="p">,</span> <span class="n">outInfoVec</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.vtkCommonDataModel</span> <span class="kn">import</span> <span class="n">vtkTable</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.numpy_interface</span> <span class="kn">import</span> <span class="n">dataset_adapter</span> <span class="k">as</span> <span class="n">dsa</span>

        <span class="n">data_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_update_time</span><span class="p">(</span><span class="n">outInfoVec</span><span class="o">.</span><span class="n">GetInformationObject</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">raw_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_raw_data</span><span class="p">(</span><span class="n">data_time</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">dsa</span><span class="o">.</span><span class="n">WrapDataObject</span><span class="p">(</span><span class="n">vtkTable</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">outInfoVec</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">raw_data</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrayselection</span><span class="o">.</span><span class="n">ArrayIsEnabled</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
                <span class="n">output</span><span class="o">.</span><span class="n">RowData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">data_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">output</span><span class="o">.</span><span class="n">GetInformation</span><span class="p">()</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">DATA_TIME_STEP</span><span class="p">(),</span> <span class="n">data_time</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># A writer example.</span>
<span class="c1">#------------------------------------------------------------------------------</span>
<span class="nd">@smproxy</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">extensions</span><span class="o">=</span><span class="s2">&quot;npz&quot;</span><span class="p">,</span> <span class="n">file_description</span><span class="o">=</span><span class="s2">&quot;NumPy Compressed Arrays&quot;</span><span class="p">,</span> <span class="n">support_reload</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Input&quot;</span><span class="p">,</span> <span class="n">port_index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkTable&quot;</span><span class="p">],</span> <span class="n">composite_data_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">NumpyWriter</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">VTKPythonAlgorithmBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nInputPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nOutputPorts</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">inputType</span><span class="o">=</span><span class="s1">&#39;vtkTable&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@smproperty</span><span class="o">.</span><span class="n">stringvector</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;FileName&quot;</span><span class="p">,</span> <span class="n">panel_visibility</span><span class="o">=</span><span class="s2">&quot;never&quot;</span><span class="p">)</span>
    <span class="nd">@smdomain</span><span class="o">.</span><span class="n">filelist</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">SetFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Specify filename for the file to write.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">!=</span> <span class="n">fname</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filename</span> <span class="o">=</span> <span class="n">fname</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfoVec</span><span class="p">,</span> <span class="n">outInfoVec</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.vtkCommonDataModel</span> <span class="kn">import</span> <span class="n">vtkTable</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.numpy_interface</span> <span class="kn">import</span> <span class="n">dataset_adapter</span> <span class="k">as</span> <span class="n">dsa</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">dsa</span><span class="o">.</span><span class="n">WrapDataObject</span><span class="p">(</span><span class="n">vtkTable</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">inInfoVec</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">aname</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">RowData</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="n">aname</span><span class="p">]</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">RowData</span><span class="p">[</span><span class="n">aname</span><span class="p">]</span>

        <span class="kn">import</span> <span class="nn">numpy</span>
        <span class="n">numpy</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">Write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>

<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># A filter example.</span>
<span class="c1">#------------------------------------------------------------------------------</span>
<span class="nd">@smproxy</span><span class="o">.</span><span class="n">filter</span><span class="p">()</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;InputTable&quot;</span><span class="p">,</span> <span class="n">port_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkTable&quot;</span><span class="p">],</span> <span class="n">composite_data_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;InputDataset&quot;</span><span class="p">,</span> <span class="n">port_index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkDataSet&quot;</span><span class="p">],</span> <span class="n">composite_data_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ExampleTwoInputFilter</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">VTKPythonAlgorithmBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nInputPorts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nOutputPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">outputType</span><span class="o">=</span><span class="s2">&quot;vtkPolyData&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">FillInputPortInformation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">port</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">info</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INPUT_REQUIRED_DATA_TYPE</span><span class="p">(),</span> <span class="s2">&quot;vtkDataSet&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">info</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INPUT_REQUIRED_DATA_TYPE</span><span class="p">(),</span> <span class="s2">&quot;vtkTable&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfoVec</span><span class="p">,</span> <span class="n">outInfoVec</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">vtkmodules.vtkCommonDataModel</span> <span class="kn">import</span> <span class="n">vtkTable</span><span class="p">,</span> <span class="n">vtkDataSet</span><span class="p">,</span> <span class="n">vtkPolyData</span>
        <span class="n">input0</span> <span class="o">=</span> <span class="n">vtkDataSet</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">inInfoVec</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">input1</span> <span class="o">=</span> <span class="n">vtkDataSet</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">inInfoVec</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">vtkPolyData</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">outInfoVec</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1"># do work</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pretend work done!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>

<span class="nd">@smproxy</span><span class="o">.</span><span class="n">filter</span><span class="p">()</span>
<span class="nd">@smproperty</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Input&quot;</span><span class="p">)</span>
<span class="nd">@smdomain</span><span class="o">.</span><span class="n">datatype</span><span class="p">(</span><span class="n">dataTypes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;vtkDataSet&quot;</span><span class="p">],</span> <span class="n">composite_data_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">PreserveInputTypeFilter</span><span class="p">(</span><span class="n">VTKPythonAlgorithmBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Example filter demonstrating how to write a filter that preserves the input</span>
<span class="sd">    dataset type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">nInputPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nOutputPorts</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">outputType</span><span class="o">=</span><span class="s2">&quot;vtkDataSet&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">RequestDataObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfo</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">):</span>
        <span class="n">inData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetInputData</span><span class="p">(</span><span class="n">inInfo</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">outData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetOutputData</span><span class="p">(</span><span class="n">outInfo</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">inData</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">outData</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="n">outData</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="n">inData</span><span class="o">.</span><span class="n">GetClassName</span><span class="p">())):</span>
            <span class="n">outData</span> <span class="o">=</span> <span class="n">inData</span><span class="o">.</span><span class="n">NewInstance</span><span class="p">()</span>
            <span class="n">outInfo</span><span class="o">.</span><span class="n">GetInformationObject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">outData</span><span class="o">.</span><span class="n">DATA_OBJECT</span><span class="p">(),</span> <span class="n">outData</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">RequestDataObject</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">inInfo</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">RequestData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">inInfo</span><span class="p">,</span> <span class="n">outInfo</span><span class="p">):</span>
        <span class="n">inData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetInputData</span><span class="p">(</span><span class="n">inInfo</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">outData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetOutputData</span><span class="p">(</span><span class="n">outInfo</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;input type =&quot;</span><span class="p">,</span> <span class="n">inData</span><span class="o">.</span><span class="n">GetClassName</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;output type =&quot;</span><span class="p">,</span> <span class="n">outData</span><span class="o">.</span><span class="n">GetClassName</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">outData</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="n">inData</span><span class="o">.</span><span class="n">GetClassName</span><span class="p">())</span>
        <span class="k">return</span> <span class="mi">1</span>


<span class="k">def</span> <span class="nf">test_PythonSuperquadricSource</span><span class="p">():</span>
    <span class="n">src</span> <span class="o">=</span> <span class="n">PythonSuperquadricSource</span><span class="p">()</span>
    <span class="n">src</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>

    <span class="n">npts</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">GetOutputDataObject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">npts</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="n">src</span><span class="o">.</span><span class="n">SetThetaResolution</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">src</span><span class="o">.</span><span class="n">SetPhiResolution</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">src</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">src</span><span class="o">.</span><span class="n">GetOutputDataObject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">npts</span>

<span class="k">def</span> <span class="nf">test_PythonCSVReader</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">PythonCSVReader</span><span class="p">()</span>
    <span class="n">reader</span><span class="o">.</span><span class="n">SetFileName</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
    <span class="n">reader</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">reader</span><span class="o">.</span><span class="n">GetOutputDataObject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">GetNumberOfRows</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1">#test_PythonSuperquadricSource()</span>
    <span class="c1">#test_PythonCSVReader(&quot;/tmp/data.csv&quot;)</span>

    <span class="kn">from</span> <span class="nn">paraview.detail.pythonalgorithm</span> <span class="kn">import</span> <span class="n">get_plugin_xmls</span>
    <span class="kn">from</span> <span class="nn">xml.dom.minidom</span> <span class="kn">import</span> <span class="n">parseString</span>
    <span class="k">for</span> <span class="n">xml</span> <span class="ow">in</span> <span class="n">get_plugin_xmls</span><span class="p">(</span><span class="nb">globals</span><span class="p">()):</span>
        <span class="n">dom</span> <span class="o">=</span> <span class="n">parseString</span><span class="p">(</span><span class="n">xml</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">dom</span><span class="o">.</span><span class="n">toprettyxml</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="paraview.util.html" class="btn btn-neutral float-left" title="util Package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="paraview.web.html" class="btn btn-neutral float-right" title="web Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013, Kitware, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   
  <!-- KW:BEGIN -->
  <script type="text/javascript" src="/paraview-docs/paraview-version.js"></script>
  <!-- KW:END -->
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>