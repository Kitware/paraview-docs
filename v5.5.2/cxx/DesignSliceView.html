<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParaView: Implementation Details: Slice View</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParaView
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Implementation Details: Slice View </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="sliceview.png" alt="sliceview.png"/>
<div class="caption">
Slice View in ParaView</div></div>
<p>This page summarizes the design details of what ParaView calls the <b>Slice View</b> (sometimes called the <b>Multi-Slice View</b> since it allows the users to add multiple slices).</p>
<h2>Classes</h2>
<p>Let's start by getting an overview of the new classes added for supporting this Slice view.</p>
<p><a class="el" href="classvtkSMMultiSliceViewProxy.html" title="Custom RenderViewProxy to override CreateDefaultRepresentation method so only the Multi-Slice represe...">vtkSMMultiSliceViewProxy</a> is the view-proxy. It's a <a class="el" href="classvtkSMRenderViewProxy.html" title="implementation for View that includes render window and renderers. ">vtkSMRenderViewProxy</a> subclass. This makes it possible for the application to treat this as simply a specialization of the <em>Render View</em>, which it indeed is. Thus all toolbars for setting axis of rotation, camera positions, selection etc. will continue to work.</p>
<p><a class="el" href="classpqMultiSliceView.html">pqMultiSliceView</a> is the <a class="el" href="classpqRenderView.html">pqRenderView</a> subclass created by the GUI whenever it encounters a <a class="el" href="classvtkSMMultiSliceViewProxy.html" title="Custom RenderViewProxy to override CreateDefaultRepresentation method so only the Multi-Slice represe...">vtkSMMultiSliceViewProxy</a>. The extra thing that this class does it manage the UI components to allow the user to interactively place slices in the view. Use <a class="el" href="classpqMultiSliceAxisWidget.html">pqMultiSliceAxisWidget</a>, this class updates the <em>XSlicesValues</em>, <em>YSlicesValues</em>, and <em>ZSlicesValues</em> properties on the <a class="el" href="classvtkSMMultiSliceViewProxy.html" title="Custom RenderViewProxy to override CreateDefaultRepresentation method so only the Multi-Slice represe...">vtkSMMultiSliceViewProxy</a> proxy.</p>
<p><a class="el" href="classvtkPVMultiSliceView.html" title="vtkPVMultiSliceView extends vtkPVRenderView but add meta-data information used by SliceRepresentation...">vtkPVMultiSliceView</a> is a VTK-object controlled by the <a class="el" href="classvtkSMMultiSliceViewProxy.html" title="Custom RenderViewProxy to override CreateDefaultRepresentation method so only the Multi-Slice represe...">vtkSMMultiSliceViewProxy</a>. <a class="el" href="classvtkPVMultiSliceView.html" title="vtkPVMultiSliceView extends vtkPVRenderView but add meta-data information used by SliceRepresentation...">vtkPVMultiSliceView</a> is a indeed a <a class="el" href="classvtkPVRenderView.html" title="Render View for ParaView. ">vtkPVRenderView</a> subclass. It adds API to set/get the slice positions along each of the coordinate axes. Representations that want to respect the slices specified by this view can access the view in <a class="el" href="classvtkPVView.html#a0efd5257a8f7e78c8ff3bb25c683eabb" title="This is a Update-Data pass. ">vtkPVView::REQUEST_UPDATE()</a> pass to get the slice positions. This pass will indeed be triggered on all data-server ranks after the slice positions have been changed.</p>
<p><a class="el" href="classvtkGeometrySliceRepresentation.html" title="extends vtkGeometryRepresentation to add support for showing just specific slices from the dataset...">vtkGeometrySliceRepresentation</a> is a <a class="el" href="classvtkGeometryRepresentation.html" title="representation for showing any datasets as external shell of polygons. ">vtkGeometryRepresentation</a> subclass which is used to add a new <b>Slices</b> representation type to the standard <em>GeometryRepresentation</em> proxy. <a class="el" href="classvtkSMMultiSliceViewProxy.html#ac97108759c8ec7707e23f4eba4a37764" title="Overridden to forward the call to the internal root view proxy. ">vtkSMMultiSliceViewProxy::GetRepresentationType()</a> will suggest creating of this extended <em>GeometryRepresentation</em>, know as (<em>representations</em>, <em>CompositeMultiSliceRepresentation</em>) to the ProxyManager.</p>
<p><em>CompositeMultiSliceRepresentation</em> supports the usual representation-types e.g. Surface, Wireframe, etc. along with the new <em>Slices</em> type. Whenever the user picks the <em>Slices</em> representation-type, the <a class="el" href="classvtkGeometrySliceRepresentation.html" title="extends vtkGeometryRepresentation to add support for showing just specific slices from the dataset...">vtkGeometrySliceRepresentation</a> will be used.</p>
<p><a class="el" href="classvtkGeometrySliceRepresentation.html" title="extends vtkGeometryRepresentation to add support for showing just specific slices from the dataset...">vtkGeometrySliceRepresentation</a> works with <a class="el" href="classvtkPVMultiSliceView.html" title="vtkPVMultiSliceView extends vtkPVRenderView but add meta-data information used by SliceRepresentation...">vtkPVMultiSliceView</a> to display any dataset as a set of slices along the coordinate planes. The slice positions are obtained from <a class="el" href="classvtkPVMultiSliceView.html" title="vtkPVMultiSliceView extends vtkPVRenderView but add meta-data information used by SliceRepresentation...">vtkPVMultiSliceView</a> in the <a class="el" href="classvtkPVView.html#a0efd5257a8f7e78c8ff3bb25c683eabb" title="This is a Update-Data pass. ">vtkPVView::REQUEST_UPDATE()</a>.</p>
<p><a class="el" href="classvtkGeometrySliceRepresentation.html" title="extends vtkGeometryRepresentation to add support for showing just specific slices from the dataset...">vtkGeometrySliceRepresentation</a> works by replacing the <a class="el" href="classvtkPVGeometryFilter.html" title="Geometry filter that does outlines for volumes. ">vtkPVGeometryFilter</a> (in <a class="el" href="classvtkGeometryRepresentation.html" title="representation for showing any datasets as external shell of polygons. ">vtkGeometryRepresentation</a>) with an internal <a class="el" href="classvtkPVGeometryFilter.html" title="Geometry filter that does outlines for volumes. ">vtkPVGeometryFilter</a> subclass that extracts the slices from the input dataset before passing it to the <a class="el" href="classvtkPVGeometryFilter.html" title="Geometry filter that does outlines for volumes. ">vtkPVGeometryFilter</a> implementation. It uses the <a class="el" href="classvtkThreeSliceFilter.html" title="Cut vtkDataSet along 3 planes. ">vtkThreeSliceFilter</a> to apply a collection of slice filters in one go.</p>
<h2>Supporting Miscellaneous Use-Cases</h2>
<p>Let's look at how we support a bunch of miscellaneous use-cases.</p>
<h3>Choosing <em>Slices</em> representation by default</h3>
<p><b>Use-Case</b>: When user shows a new dataset in this Slice view, we want the default representation-type to be "Slices", and not "Surface" or anything that <a class="el" href="classvtkSMRepresentationTypeDomain.html" title="domain for &quot;Representation&quot; property on representations in &quot;RenderView&quot;. ">vtkSMRepresentationTypeDomain</a> picks.</p>
<p><b>Solution (HACK)</b>: <a class="el" href="classvtkSMMultiSliceViewProxy.html#acf17f2f315d6161cb5717c74b59daa27" title="Overridden to set initial default slices when a representation is created. ">vtkSMMultiSliceViewProxy::CreateDefaultRepresentation()</a> changes the <em>Representation</em> property's value to <em>Slices</em>. Further more, to avoid <a class="el" href="classvtkSMParaViewPipelineController.html#a95fcaeeb37ff7d6d27dcffd8d7a4ae20" title="Final step in proxy initialization. ">vtkSMParaViewPipelineController::PostInitializeProxy()</a> from resetting the property value to domain-defaults (using <a class="el" href="classvtkSMProperty.html#a90a867dc15ab3d26265deb1fcd95560c" title="Iterates over all domains and call SetDefaultValues() on each domain until the first one returns true...">vtkSMProperty::ResetToDomainDefaults()</a>), we add an XML hint to the property. This is done in <a class="el" href="classvtkSMMultiSliceViewProxy.html#aa57a478541328214798f6bc5ef4f35ca" title="HACK: method to force representation type to &quot;Slices&quot;. ">vtkSMMultiSliceViewProxy::ForceRepresentationType()</a>.</p>
<h3>Setting default slice locations</h3>
<p><b>Use-Case</b>: When a new dataset is shown in this view, we want the view to automatically place slices at the center of the dataset.</p>
<p><b>Solution (HACK)</b>: We set the properties on the view in <a class="el" href="classvtkSMMultiSliceViewProxy.html#acf17f2f315d6161cb5717c74b59daa27" title="Overridden to set initial default slices when a representation is created. ">vtkSMMultiSliceViewProxy::CreateDefaultRepresentation()</a>. Currently the properties on the view are changed only when there are no slices specified already.</p>
<h2>Notes </h2>
<p>This page is generated from <em><a class="el" href="MultiSliceView_8md.html">MultiSliceView.md</a></em>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
